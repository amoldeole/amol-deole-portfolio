/*! For license information please see 822.1b179a4d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkamol_deole_portfolio=self.webpackChunkamol_deole_portfolio||[]).push([[822],{614:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1286:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},2494:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]])},2574:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},3546:(e,t,s)=>{s.d(t,{N:()=>v});var a=s(579),r=s(5043),n=s(2190),i=s(4930),l=s(293),d=s(2555),o=s(9674),c=s(8676),u=s(1051);class h extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,s=(0,c.s)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function x(e){let{children:t,isPresent:s,anchorX:n}=e;const i=(0,r.useId)(),l=(0,r.useRef)(null),d=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=(0,r.useContext)(u.Q);return(0,r.useInsertionEffect)((()=>{const{width:e,height:t,top:a,left:r,right:c}=d.current;if(s||!l.current||!e||!t)return;const u="left"===n?"left: ".concat(r):"right: ".concat(c);l.current.dataset.motionPopId=i;const h=document.createElement("style");return o&&(h.nonce=o),document.head.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(u,"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.contains(h)&&document.head.removeChild(h)}}),[s]),(0,a.jsx)(h,{isPresent:s,childRef:l,sizeRef:d,children:r.cloneElement(t,{ref:l})})}const g=e=>{let{children:t,initial:s,isPresent:n,onExitComplete:l,custom:c,presenceAffectsLayout:u,mode:h,anchorX:g}=e;const p=(0,i.M)(m),f=(0,r.useId)();let y=!0,v=(0,r.useMemo)((()=>(y=!1,{id:f,initial:s,isPresent:n,custom:c,onExitComplete:e=>{p.set(e,!0);for(const t of p.values())if(!t)return;l&&l()},register:e=>(p.set(e,!1),()=>p.delete(e))})),[n,p,l]);return u&&y&&(v=(0,d.A)({},v)),(0,r.useMemo)((()=>{p.forEach(((e,t)=>p.set(t,!1)))}),[n]),r.useEffect((()=>{!n&&!p.size&&l&&l()}),[n]),"popLayout"===h&&(t=(0,a.jsx)(x,{isPresent:n,anchorX:g,children:t})),(0,a.jsx)(o.t.Provider,{value:v,children:t})};function m(){return new Map}var p=s(8917);const f=e=>e.key||"";function y(e){const t=[];return r.Children.forEach(e,(e=>{(0,r.isValidElement)(e)&&t.push(e)})),t}const v=e=>{let{children:t,custom:s,initial:d=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:u="sync",propagate:h=!1,anchorX:x="left"}=e;const[m,v]=(0,p.xQ)(h),j=(0,r.useMemo)((()=>y(t)),[t]),b=h&&!m?[]:j.map(f),N=(0,r.useRef)(!0),w=(0,r.useRef)(j),k=(0,i.M)((()=>new Map)),[A,C]=(0,r.useState)(j),[_,z]=(0,r.useState)(j);(0,l.E)((()=>{N.current=!1,w.current=j;for(let e=0;e<_.length;e++){const t=f(_[e]);b.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}}),[_,b.length,b.join("-")]);const E=[];if(j!==A){let e=[...j];for(let t=0;t<_.length;t++){const s=_[t],a=f(s);b.includes(a)||(e.splice(t,0,s),E.push(s))}return"wait"===u&&E.length&&(e=E),z(y(e)),C(j),null}const{forceRender:M}=(0,r.useContext)(n.L);return(0,a.jsx)(a.Fragment,{children:_.map((e=>{const t=f(e),r=!(h&&!m)&&(j===_||b.includes(t));return(0,a.jsx)(g,{isPresent:r,initial:!(N.current&&!d)&&void 0,custom:s,presenceAffectsLayout:c,mode:u,onExitComplete:r?void 0:()=>{if(!k.has(t))return;k.set(t,!0);let e=!0;k.forEach((t=>{t||(e=!1)})),e&&(null===M||void 0===M||M(),z(w.current),h&&(null===v||void 0===v||v()),o&&o())},anchorX:x,children:e},t)}))})}},3771:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]])},5010:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("reply",[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]])},5469:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5746:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},6210:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},7822:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var a=s(2555),r=s(5043),n=s(5487),i=s(3546),l=s(3771),d=s(6210),o=s(2574),c=s(5469),u=s(1286),h=s(9333),x=s(614),g=s(9292),m=s(2494),p=s(5010),f=s(7922),y=s(5746),v=s(8564),j=s(9328),b=s(2996),N=s(1045),w=s(579);const k=()=>{var e;const[t,s]=(0,r.useState)(!1),[k,A]=(0,r.useState)(!1),[C,_]=(0,r.useState)([]),[z,E]=(0,r.useState)(null),[M,T]=(0,r.useState)([]),[S,P]=(0,r.useState)(""),[R,L]=(0,r.useState)(""),[I,D]=(0,r.useState)(!1),[U,H]=(0,r.useState)(null),[F,X]=(0,r.useState)(!1),[B,V]=(0,r.useState)(!1),W=(0,r.useRef)(null),O=(0,r.useRef)(),q=j.y.getUser(),G=(0,N.Zp)();(0,r.useEffect)((()=>{A(j.y.isAuthenticated())}),[]),(0,r.useEffect)((()=>{k&&Q()}),[k]),(0,r.useEffect)((()=>{z&&Z(z._id)}),[z]),(0,r.useEffect)((()=>{var e;null===(e=W.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[M]),(0,r.useEffect)((()=>(z&&F&&(O.current&&clearTimeout(O.current),O.current=setTimeout((()=>{X(!1),b.z.sendTyping(z._id,!1)}),1e3)),()=>{O.current&&clearTimeout(O.current)})),[F,z]),(0,r.useEffect)((()=>{const e=e=>{z&&e.chatId===z._id&&e.userId!==(null===q||void 0===q?void 0:q._id)&&V(e.isTyping)},t=e=>{console.log("New message received:",e),z&&e.chatId===z._id&&T((t=>[...t,e])),_((t=>t.map((t=>t._id===e.chatId?(0,a.A)((0,a.A)({},t),{},{unreadCount:(t.unreadCount||0)+1,lastMessage:e}):t)))),z&&e.chatId===z._id||window.dispatchEvent(new CustomEvent("toast",{detail:{type:"notification",message:"New message from ".concat(e.sender.firstName,": ").concat(e.content)}}))};return b.z.on("userTyping",e),b.z.on("newMessage",t),()=>{b.z.off("userTyping",e),b.z.off("newMessage",t)}}),[z,q]);const Q=async()=>{try{var e,t;D(!0);const s=await v.O.getUserChats(),a=(null===(e=s.data)||void 0===e?void 0:e.chats)||(null===(t=s.data)||void 0===t?void 0:t.items)||[];_(a)}catch(s){console.error("Failed to load chats:",s)}finally{D(!1)}},Z=async e=>{try{var t,s;D(!0);const a=await v.O.getChatMessages(e),r=(null===(t=a.data)||void 0===t?void 0:t.messages)||(null===(s=a.data)||void 0===s?void 0:s.items)||[];T(r)}catch(a){console.error("Failed to load messages:",a)}finally{D(!1)}},K=async()=>{if(S.trim()&&z)try{b.z.sendMessage({chatId:z._id,content:S.trim(),replyTo:null===U||void 0===U?void 0:U._id}),P(""),H(null),X(!1),b.z.sendTyping(z._id,!1)}catch(e){console.error("Failed to send message:",e)}},J=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Y=e=>{if("group"===e.type)return e.groupName||"Group Chat";const t=e.participants.find((e=>e._id!==(null===q||void 0===q?void 0:q._id)));return t?"".concat(t.firstName," ").concat(t.lastName):"Unknown"},$=e=>{var t;if("group"===e.type)return(null===(t=e.groupName)||void 0===t?void 0:t.charAt(0).toUpperCase())||"G";const s=e.participants.find((e=>e._id!==(null===q||void 0===q?void 0:q._id)));return s?"".concat(s.firstName.charAt(0)).concat(s.lastName.charAt(0)).toUpperCase():"U"},ee=e=>{if("group"===e.type)return!1;const t=e.participants.find((e=>e._id!==(null===q||void 0===q?void 0:q._id)));return(null===t||void 0===t?void 0:t.isOnline)||!1},te=e=>e.sender._id!==(null===q||void 0===q?void 0:q._id)?null:e.readBy&&e.readBy.length>0?(0,w.jsx)(l.A,{className:"w-3 h-3 text-blue-400"}):e.deliveredTo&&e.deliveredTo.length>0?(0,w.jsx)(l.A,{className:"w-3 h-3 text-gray-400"}):(0,w.jsx)(d.A,{className:"w-3 h-3 text-gray-400"}),se=C.filter((e=>Y(e).toLowerCase().includes(R.toLowerCase())));return k?(0,w.jsxs)("div",{className:"fixed bottom-4 right-4 z-50",children:[(0,w.jsx)(i.N,{children:!t&&(0,w.jsxs)(n.P.button,{initial:{scale:0},animate:{scale:1},exit:{scale:0},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{k?s(!0):G("/signup")},className:"bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg relative",children:[(0,w.jsx)(o.A,{size:24}),C.reduce(((e,t)=>e+(t.unreadCount||0)),0)>0&&(0,w.jsx)("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center",children:C.reduce(((e,t)=>e+(t.unreadCount||0)),0)>99?"99+":C.reduce(((e,t)=>e+(t.unreadCount||0)),0)})]})}),(0,w.jsx)(i.N,{children:t&&(0,w.jsxs)(n.P.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-96 h-[600px] flex flex-col overflow-hidden border border-gray-200 dark:border-gray-700",children:[(0,w.jsxs)("div",{className:"bg-green-600 dark:bg-green-700 text-white p-4 flex items-center justify-between",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-3",children:[z&&(0,w.jsx)("button",{onClick:()=>E(null),className:"p-1 hover:bg-green-700 dark:hover:bg-green-600 rounded",children:(0,w.jsx)(c.A,{size:20})}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h3",{className:"font-semibold",children:z?Y(z):"WhatsApp"}),z&&(0,w.jsx)("p",{className:"text-xs text-green-100",children:ee(z)?"online":null!==(e=z.participants.find((e=>e._id!==(null===q||void 0===q?void 0:q._id))))&&void 0!==e&&e.lastSeen?"last seen ".concat((e=>{const t=new Date,s=new Date(e),a=Math.floor((t.getTime()-s.getTime())/6e4);return a<1?"just now":a<60?"".concat(a,"m ago"):a<1440?"".concat(Math.floor(a/60),"h ago"):s.toLocaleDateString()})(z.participants.find((e=>e._id!==(null===q||void 0===q?void 0:q._id))).lastSeen)):"offline"})]})]}),(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[z&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("button",{onClick:()=>{},className:"p-2 hover:bg-green-700 dark:hover:bg-green-600 rounded",title:"Audio Call",children:(0,w.jsx)(u.A,{size:18})}),(0,w.jsx)("button",{onClick:()=>{},className:"p-2 hover:bg-green-700 dark:hover:bg-green-600 rounded",title:"Video Call",children:(0,w.jsx)(h.A,{size:18})})]}),(0,w.jsx)("button",{onClick:()=>s(!1),className:"p-2 hover:bg-green-700 dark:hover:bg-green-600 rounded",title:"Close",children:(0,w.jsx)(x.A,{size:18})})]})]}),(0,w.jsx)("div",{className:"flex-1 overflow-hidden",children:z?(0,w.jsxs)("div",{className:"h-full flex flex-col",children:[(0,w.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 chat-messages",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23e5ddd5' fill-opacity='0.4'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")",backgroundColor:"#e5ddd5"},"data-messages-container":!0,children:[M.map((e=>{const t=e.sender._id===(null===q||void 0===q?void 0:q._id);return(0,w.jsx)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex ".concat(t?"justify-end":"justify-start"," group"),children:(0,w.jsxs)("div",{className:"max-w-xs px-3 py-2 rounded-lg shadow-sm relative ".concat(t?"bg-green-500 text-white":"bg-white text-gray-900"),style:{borderRadius:t?"7.5px 7.5px 7.5px 0px":"7.5px 7.5px 0px 7.5px"},children:[e.replyTo&&(0,w.jsxs)("div",{className:"mb-2 p-2 rounded border-l-4 text-xs ".concat(t?"bg-green-600 border-green-300":"bg-gray-100 border-gray-400"),children:[(0,w.jsx)("p",{className:"font-medium opacity-80",children:e.replyTo.sender.firstName}),(0,w.jsx)("p",{className:"truncate opacity-70",children:e.replyTo.content})]}),e.content&&(0,w.jsx)("p",{className:"text-sm leading-relaxed",children:e.content}),e.media&&e.media.length>0&&(0,w.jsx)("div",{className:"mt-2 space-y-2",children:e.media.map((e=>(0,w.jsx)("div",{children:e.mimetype.startsWith("image/")?(0,w.jsx)("img",{src:e.url,alt:e.originalName,className:"max-w-full h-auto rounded"}):(0,w.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-xs underline",children:[(0,w.jsx)(m.A,{size:12}),(0,w.jsx)("span",{children:e.originalName})]})},e._id)))}),(0,w.jsxs)("div",{className:"flex items-center justify-end mt-1 space-x-1",children:[(0,w.jsx)("span",{className:"text-xs ".concat(t?"text-green-100":"text-gray-500"),children:J(e.createdAt)}),t&&(0,w.jsx)("div",{className:"text-green-100",children:te(e)})]}),!t&&(0,w.jsx)("button",{onClick:()=>H(e),className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100 p-1 bg-gray-200 hover:bg-gray-300 rounded transition-opacity",children:(0,w.jsx)(p.A,{size:12})})]})},e._id)})),B&&(0,w.jsx)("div",{className:"flex justify-start",children:(0,w.jsx)("div",{className:"bg-white rounded-lg px-4 py-2 shadow-sm",children:(0,w.jsxs)("div",{className:"flex space-x-1",children:[(0,w.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,w.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,w.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),(0,w.jsx)("div",{ref:W})]}),U&&(0,w.jsx)("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 border-l-4 border-green-500",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsxs)("p",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:["Replying to ",U.sender.firstName]}),(0,w.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 truncate",children:U.content})]}),(0,w.jsx)("button",{onClick:()=>H(null),className:"text-gray-400 hover:text-gray-600",children:(0,w.jsx)(x.A,{size:16})})]})}),(0,w.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-900",children:(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,w.jsx)(m.A,{size:20})}),(0,w.jsx)("div",{className:"flex-1 relative",children:(0,w.jsx)("input",{type:"text",value:S,onChange:e=>{P(e.target.value),!F&&e.target.value.trim()?(X(!0),z&&b.z.sendTyping(z._id,!0)):F&&!e.target.value.trim()&&(X(!1),z&&b.z.sendTyping(z._id,!1))},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),K())},placeholder:"Type a message",className:"w-full px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-full focus:outline-none focus:ring-2 focus:ring-green-500 dark:text-white"})}),(0,w.jsx)("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,w.jsx)(f.A,{size:20})}),(0,w.jsx)("button",{onClick:K,disabled:!S.trim(),className:"p-2 bg-green-500 text-white rounded-full hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,w.jsx)(y.A,{size:18})})]})})]}):(0,w.jsxs)("div",{className:"h-full flex flex-col",children:[(0,w.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-900",children:(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)(g.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,w.jsx)("input",{type:"text",placeholder:"Search or start new chat",value:R,onChange:e=>L(e.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 dark:text-white"})]})}),(0,w.jsx)("div",{className:"flex-1 overflow-y-auto",children:I?(0,w.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,w.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):0===se.length?(0,w.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)(o.A,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,w.jsx)("p",{children:"No conversations yet"}),(0,w.jsx)("p",{className:"text-sm",children:"Tap the new chat button to start messaging"})]})}):se.map((e=>{var t;return(0,w.jsx)(n.P.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},onClick:()=>E(e),className:"p-3 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:(0,w.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)("div",{className:"w-12 h-12 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center text-gray-700 dark:text-gray-300 font-semibold",children:$(e)}),ee(e)&&(0,w.jsx)("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-gray-800"})]}),(0,w.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:Y(e)}),e.lastMessage&&(0,w.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:J(e.lastMessage.createdAt)})]}),(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:(null===(t=e.lastMessage)||void 0===t?void 0:t.content)||"Tap to start messaging"}),e.unreadCount>0&&(0,w.jsx)("div",{className:"bg-green-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center ml-2",children:e.unreadCount>99?"99+":e.unreadCount})]})]})]})},e._id)}))})]})})]})})]}):(0,w.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,w.jsx)(n.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>G("/signup"),className:"bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg",children:(0,w.jsx)(o.A,{size:24})})})}},7922:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])},9292:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9333:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])}}]);
//# sourceMappingURL=822.1b179a4d.chunk.js.map