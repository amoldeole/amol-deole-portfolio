{"version":3,"file":"static/js/664.48142a71.chunk.js","mappings":"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","sources":["shared/components/SignUpWizard.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { User } from 'lucide-react';\nimport { Link, useNavigate } from 'react-router-dom';\n\nconst API_URL = process.env.REACT_APP_BACKEND_API_URL || 'http://localhost:5000';\n\nconst SignUpWizard: React.FC = () => {\n  const [step, setStep] = useState<'phone' | 'otp' | 'profile'>('profile');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [otp, setOtp] = useState('');\n  const [profile, setProfile] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    avatar: null as File | null\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const navigate = useNavigate();\n\n  const handleProfileSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n\n    if (!profile.firstName.trim() || !profile.lastName.trim() || !profile.email.trim() || !profile.password.trim()) {\n      setError('All fields are required.');\n      return;\n    }\n    setLoading(true);\n\n    try {\n      let profilePicture = '';\n      if (profile.avatar) {\n        profilePicture = '';\n      }\n\n      const payload = {\n        firstName: profile.firstName,\n        lastName: profile.lastName,\n        email: profile.email,\n        password: profile.password,\n        role: 'guest',\n        profilePicture: profilePicture || 'https://support.hubstaff.com/wp-content/uploads/2019/08/good-pic-300x286.png',\n        permissions: {},\n        phone: phoneNumber\n      };\n\n      const res = await fetch(`${API_URL}/api/auth/signup`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload)\n      });\n\n      if (!res.ok) {\n        const data = await res.json();\n        throw new Error(data.message || 'Signup failed');\n      }\n      window.dispatchEvent(\n        new CustomEvent('toast', {\n          detail: {\n            type: 'success',\n            message: `Sign up successful, please login to continue.`,\n          },\n        })\n      );\n      navigate('/login');\n    } catch (err: any) {\n      setError(err.message || 'Signup failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handler for user icon click\n  const handleUserIconClick = () => {\n    navigate('/');\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-green-100 dark:from-gray-900\">\n      <div className=\"max-w-md w-full mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <motion.div\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n          className=\"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-8\"\n        >\n          <div className=\"flex flex-col items-center mb-8\">\n            <div className=\"relative inline-block mb-4 cursor-pointer\" onClick={handleUserIconClick}>\n              <User className=\"w-24 h-24 md:w-28 md:h-28 text-gray-400 dark:text-gray-600 mx-auto bg-gray-100 dark:bg-gray-800 rounded-full p-6\" />\n            </div>\n            <h2 className=\"text-3xl font-extrabold text-gray-900 dark:text-white mb-2 font-poppins\">\n              Sign Up\n            </h2>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              Complete your profile to start chatting\n            </p>\n          </div>\n\n          {step === 'profile' && (\n            <motion.form\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              onSubmit={handleProfileSubmit}\n              className=\"space-y-6\"\n            >\n              <div className=\"rounded-md shadow-sm -space-y-px\">\n                <div>\n                  <input\n                    id=\"firstName\"\n                    name=\"firstName\"\n                    type=\"text\"\n                    required\n                    className=\"relative block w-full px-4 py-3 border border-gray-300 dark:border-gray-700 placeholder-gray-500 text-gray-900 dark:text-white rounded-t-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:z-10 bg-white dark:bg-gray-800\"\n                    placeholder=\"First Name\"\n                    value={profile.firstName}\n                    onChange={(e) => setProfile(prev => ({ ...prev, firstName: e.target.value }))}\n                    autoComplete=\"given-name\"\n                  />\n                </div>\n                <div>\n                  <input\n                    id=\"lastName\"\n                    name=\"lastName\"\n                    type=\"text\"\n                    required\n                    className=\"relative block w-full px-4 py-3 border border-gray-300 dark:border-gray-700 placeholder-gray-500 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:z-10 bg-white dark:bg-gray-800\"\n                    placeholder=\"Last Name\"\n                    value={profile.lastName}\n                    onChange={(e) => setProfile(prev => ({ ...prev, lastName: e.target.value }))}\n                    autoComplete=\"family-name\"\n                  />\n                </div>\n                <div>\n                  <input\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    required\n                    className=\"relative block w-full px-4 py-3 border border-gray-300 dark:border-gray-700 placeholder-gray-500 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:z-10 bg-white dark:bg-gray-800\"\n                    placeholder=\"Email address\"\n                    value={profile.email}\n                    onChange={(e) => setProfile(prev => ({ ...prev, email: e.target.value }))}\n                    autoComplete=\"email\"\n                  />\n                </div>\n                <div>\n                  <input\n                    id=\"password\"\n                    name=\"password\"\n                    type=\"password\"\n                    required\n                    className=\"relative block w-full px-4 py-3 border border-gray-300 dark:border-gray-700 placeholder-gray-500 text-gray-900 dark:text-white rounded-b-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:z-10 bg-white dark:bg-gray-800\"\n                    placeholder=\"Password\"\n                    value={profile.password}\n                    onChange={(e) => setProfile(prev => ({ ...prev, password: e.target.value }))}\n                    autoComplete=\"new-password\"\n                  />\n                </div>\n              </div>\n\n              {error && (\n                <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n                  {error}\n                </div>\n              )}\n\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 transition-all duration-200\"\n              >\n                {loading ? 'Registering...' : 'Complete Registration'}\n              </button>\n\n              <div className=\"text-center mt-4\">\n                <span className=\"text-gray-600 dark:text-gray-400\">\n                  Already have an account?{' '}\n                  <Link to=\"/login\" className=\"text-blue-500 hover:underline\">\n                    Login here\n                  </Link>\n                </span>\n              </div>\n            </motion.form>\n          )}\n        </motion.div>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUpWizard;"],"names":["SignUpWizard","step","setStep","useState","phoneNumber","setPhoneNumber","otp","setOtp","profile","setProfile","firstName","lastName","email","password","avatar","loading","setLoading","error","setError","navigate","useNavigate","_jsx","className","children","_jsxs","motion","div","initial","opacity","y","animate","transition","duration","onClick","handleUserIconClick","User","form","x","onSubmit","async","e","preventDefault","trim","profilePicture","payload","role","permissions","phone","res","fetch","concat","process","method","headers","body","JSON","stringify","ok","data","json","Error","message","window","dispatchEvent","CustomEvent","detail","type","err","id","name","required","placeholder","value","onChange","prev","_objectSpread","target","autoComplete","disabled","Link","to"],"sourceRoot":""}