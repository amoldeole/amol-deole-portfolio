/*! For license information please see 73.a2e8bc40.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkamol_deole_portfolio=self.webpackChunkamol_deole_portfolio||[]).push([[73],{5010:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(7784).A)("reply",[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]])},5087:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(7784).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6073:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(5043),r=a(5487),d=a(7784);const l=(0,d.A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var i=a(5087),c=a(5010),x=a(9855),n=a(9292);const o=(0,d.A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var m=a(9482),h=a(579);const g=()=>{const{state:e,loadChats:t,loadNotifications:a,selectChat:d}=(0,m.Y)(),[g,p]=(0,s.useState)("all"),[y,u]=(0,s.useState)(""),[k,b]=(0,s.useState)("chats"),[j,N]=(0,s.useState)(!1);(0,s.useEffect)((()=>{if(!j){(async()=>{try{await Promise.all([t(),a()]),N(!0)}catch(e){console.error("Failed to load chat data:",e)}})()}}),[j,t,a]);const f=e.chats.filter((e=>{var t;const a=(null===(t=e.groupName)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||e.participants.some((e=>"".concat(e.firstName," ").concat(e.lastName).toLowerCase().includes(y.toLowerCase()))),s="all"===g||"unread"===g&&e.unreadCount>0||"read"===g&&0===e.unreadCount;return a&&s})),v=e.notifications.filter((e=>{const t=e.title.toLowerCase().includes(y.toLowerCase())||e.body.toLowerCase().includes(y.toLowerCase()),a="all"===g||"unread"===g&&!e.isRead||"read"===g&&e.isRead;return t&&a})),w={totalChats:e.chats.length,unreadChats:e.chats.filter((e=>e.unreadCount>0)).length,totalMessages:e.messages.length,totalNotifications:e.notifications.length,unreadNotifications:e.notifications.filter((e=>!e.isRead)).length},C=e=>new Date(e).toLocaleString(),A=e=>"group"===e.type?e.groupName||"Group Chat":e.participants.map((e=>"".concat(e.firstName," ").concat(e.lastName))).join(", "),M=(t,a)=>{const s=e.notifications.find((e=>e._id===t));if(s)switch(a){case"view":s.relatedChat&&"object"===typeof s.relatedChat&&(d(s.relatedChat),b("messages"));break;case"markRead":console.log("Mark notification as read:",t);break;case"delete":console.log("Delete notification:",t)}},_=(t,a)=>{if(e.messages.find((e=>e._id===t)))switch(a){case"reply":console.log("Reply to message:",t);break;case"delete":console.log("Delete message:",t)}};return(0,h.jsxs)("div",{className:"p-6",children:[(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Chat Management"}),(0,h.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage conversations, messages, and notifications"})]}),(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[(0,h.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(l,{className:"h-8 w-8 text-blue-600"}),(0,h.jsxs)("div",{className:"ml-4",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Chats"}),(0,h.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.totalChats})]})]})}),(0,h.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(i.A,{className:"h-8 w-8 text-green-600"}),(0,h.jsxs)("div",{className:"ml-4",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Unread Chats"}),(0,h.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.unreadChats})]})]})}),(0,h.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(c.A,{className:"h-8 w-8 text-purple-600"}),(0,h.jsxs)("div",{className:"ml-4",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Messages"}),(0,h.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.totalMessages})]})]})}),(0,h.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(x.A,{className:"h-8 w-8 text-red-600"}),(0,h.jsxs)("div",{className:"ml-4",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Notifications"}),(0,h.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.unreadNotifications})]})]})})]}),(0,h.jsx)("div",{className:"mb-6",children:(0,h.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,h.jsx)("nav",{className:"-mb-px flex space-x-8",children:["chats","messages","notifications"].map((e=>(0,h.jsx)("button",{onClick:()=>b(e),className:"py-2 px-1 border-b-2 font-medium text-sm capitalize ".concat(k===e?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:e},e)))})})}),(0,h.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[(0,h.jsxs)("div",{className:"relative flex-1",children:[(0,h.jsx)(n.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,h.jsx)("input",{type:"text",placeholder:"Search ".concat(k,"..."),value:y,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,h.jsx)(o,{className:"text-gray-400",size:20}),(0,h.jsxs)("select",{value:g,onChange:e=>p(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,h.jsx)("option",{value:"all",children:"All"}),(0,h.jsx)("option",{value:"unread",children:"Unread"}),(0,h.jsx)("option",{value:"read",children:"Read"})]})]})]}),(0,h.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[e.loading?(0,h.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,h.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.error?(0,h.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("p",{className:"text-red-600 dark:text-red-400 mb-2",children:"Error loading data"}),(0,h.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.error})]})}):(0,h.jsxs)(h.Fragment,{children:["chats"===k&&(0,h.jsx)("div",{className:"overflow-x-auto",children:(0,h.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,h.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Chat"}),(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Participants"}),(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Message"}),(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Unread"}),(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,h.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:f.map((e=>(0,h.jsxs)(r.P.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,h.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:A(e)})}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,h.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("group"===e.type?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"),children:e.type})}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.participants.length}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.lastMessage?C(e.lastMessage.createdAt):"No messages"}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.unreadCount>0&&(0,h.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:e.unreadCount})}),(0,h.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,h.jsx)("button",{onClick:()=>d(e),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-3",children:"View"}),(0,h.jsx)("button",{className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})]})]},e._id)))})]})}),"messages"===k&&(0,h.jsx)("div",{className:"p-6",children:e.selectedChat?(0,h.jsxs)("div",{children:[(0,h.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:["Messages in ",A(e.selectedChat)]}),(0,h.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:e.messages.map((e=>(0,h.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,h.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.sender.firstName," ",e.sender.lastName]}),(0,h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,h.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:C(e.createdAt)}),(0,h.jsx)("button",{onClick:()=>_(e._id,"reply"),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 text-xs",children:"Reply"}),(0,h.jsx)("button",{onClick:()=>_(e._id,"delete"),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 text-xs",children:"Delete"})]})]}),(0,h.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.content}),e.replyTo&&(0,h.jsx)("div",{className:"mt-2 p-2 bg-gray-100 dark:bg-gray-700 rounded border-l-4 border-blue-500",children:(0,h.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Replying to: ",e.replyTo.content]})})]},e._id)))})]}):(0,h.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Select a chat to view messages"})}),"notifications"===k&&(0,h.jsx)("div",{className:"overflow-x-auto",children:(0,h.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,h.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Title"}),(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Message"}),(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,h.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:v.map((e=>(0,h.jsxs)(r.P.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,h.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("message"===e.type?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"call"===e.type?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"),children:e.type})}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:e.title}),(0,h.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate",children:e.body}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,h.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.isRead?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"),children:e.isRead?"Read":"Unread"})}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:C(e.createdAt)}),(0,h.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,h.jsx)("button",{onClick:()=>M(e._id,"view"),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-3",children:"View"}),(0,h.jsx)("button",{onClick:()=>M(e._id,"markRead"),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 mr-3",children:"Mark Read"}),(0,h.jsx)("button",{onClick:()=>M(e._id,"delete"),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})]})]},e._id)))})]})})]}),!e.loading&&!e.error&&(0,h.jsxs)(h.Fragment,{children:["chats"===k&&0===f.length&&(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(l,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,h.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No chats found"}),(0,h.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:y?"Try adjusting your search terms.":"No chat conversations available."})]}),"messages"===k&&0===e.messages.length&&e.selectedChat&&(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(c.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,h.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No messages found"}),(0,h.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"This conversation has no messages yet."})]}),"notifications"===k&&0===v.length&&(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(i.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,h.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No notifications found"}),(0,h.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:y?"Try adjusting your search terms.":"No notifications available."})]})]})]})]})}},9292:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(7784).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9855:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(7784).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=73.a2e8bc40.chunk.js.map